<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<ui:composition template="/templates/common.xhtml">
	<ui:define name="content">
		<div class="container">
			<div style="display: flex; justify-content: center;">
				<h:messages errorClass="text-danger" infoClass="text-success"
					globalOnly="true"></h:messages>
			</div>
			<div>
				<h:form>
					<h:commandLink
						styleClass="btn btn-secondary btn-lg btn-block fa fa-solid fa-plus"
						value="Add Product" id="addProduct"
						action="#{productController.getProductAddPage}"></h:commandLink>
					<h:link style="float:right;"
						styleClass="btn btn-secondary btn-lg btn-block fa fa-solid fa-backward me-2"
						value="Back" outcome="admin" />
				</h:form>
			</div>
			<div class="table-responsive-sm mt-3">
				<h5>List of Products</h5>
				<table class="table table-bordered table-hover">
					<thead class="table-dark">
						<tr>
							<th scope="col" style="text-align: center;">Product Image</th>
							<th scope="col" style="text-align: center;">Product Code</th>
							<th scope="col" style="text-align: center;">Product Name</th>
							<th scope="col" style="text-align: center;">Product
								Description</th>
							<th scope="col" style="text-align: center;">Product Category</th>
							<th scope="col" style="text-align: center;">Available
								Quantity</th>
							<th scope="col" style="text-align: center;">Price</th>
						</tr>
					</thead>
					<tbody>
						<ui:repeat var="p" value="#{productController.getAllProducts()}">
							<tr>
								<td style="text-align: center;"><img
									style="display: block;" width="100px" height="50px"
									src="data:image/png;base64,#{productController.convertImageByteToString(p.image)}"
									alt="Image Not Available"></img></td>
								<td style="text-align: center;">#{p.prdctCd}</td>
								<td style="text-align: center;">#{p.prdctName}</td>
								<td style="text-align: center;">#{p.prdctDesc}</td>
								<td style="text-align: center;">#{p.category.ctgry}</td>
								<td style="text-align: center;">#{p.avlblQnnty}</td>
								<td style="text-align: center;">&#8377;#{p.price}</td>
							</tr>
						</ui:repeat>
					</tbody>
				</table>
			</div>
		</div>
	</ui:define>
</ui:composition>
</html>